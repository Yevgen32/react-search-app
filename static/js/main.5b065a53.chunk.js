(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(35),i=a(15),o=a(14),l=a(60),u=a(61),d=a(62),h="GET_REPOSITORIES",j="SET_SEARCH_HISTORY",p=a(17),b="LOADING",O="SET_MESSAGE",v=Object(o.combineReducers)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.payload});case O:return Object(p.a)(Object(p.a)({},e),{},{message:t.payload});default:return e}},repositories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;default:return e}},searchHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload;default:return e}}}),m=Object(d.createLogger)(),f=Object(o.createStore)(v,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(l.a,m))),g=a(22),y=a(5),x=a.p+"static/media/logo.7ddb38a3.png",k=(a(79),function(){return Object(n.jsxs)("div",{className:"menu",children:[Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("a",{href:"https://requestum.com/",children:Object(n.jsx)("img",{src:x,alt:"requestum"})})}),Object(n.jsxs)("div",{className:"other-links",children:[Object(n.jsx)("a",{className:"menu-link",href:"https://github.com/Yevgen32/react-search-app",children:"github"}),Object(n.jsx)(g.b,{className:"menu-link",to:"/users",children:"users"}),Object(n.jsx)(g.b,{className:"menu-link",to:"/",children:"search"}),Object(n.jsx)(g.b,{className:"menu-link",to:"/app",children:"app"})]})]})}),N=function(e){return e.repositories},S=function(e){return e.ui.isLoading},w=function(e){return e.ui.message},E=(a(33),function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem("searchHistoryList"),a=t?JSON.parse(t):[];return Object(n.jsxs)("div",{className:"search-history-wrapper",children:[Object(n.jsx)("p",{children:"Search history:"}),(null===a||void 0===a?void 0:a.length)?a.map((function(e,t){return Object(n.jsx)("div",{className:"search-history-item",children:e},e+t)})):"Don`t have search result..."]})}),I=a(64),J=a(161),L=a(65),T=a(16),_=a.n(T),A=a(31),H=a(63),R=a.n(H),q=a(23),D=a(24),C=a(25),G=a(26),M=a(27),P=function(e){Object(C.a)(a,e);var t=Object(G.a)(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(q.a)(this,a),(n=t.call(this,e)).payload=void 0,n.name="ValidationError",n.message=e,n.payload=r,r.stack&&(n.stack=r.stack),n}return Object(D.a)(a,[{key:"toJSON",value:function(){return{error:{name:this.name,message:this.message,stacktrace:this.stack,payload:this.payload}}}}]),a}(Object(M.a)(Error)),Y=(Error,function(e){Object(C.a)(a,e);var t=Object(G.a)(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(q.a)(this,a),(n=t.call(this,e)).payload=void 0,n.name="ApiError",n.message=e,n.payload=r,r.stack&&(n.stack=r.stack),n}return Object(D.a)(a,[{key:"toJSON",value:function(){return{error:{name:this.name,message:this.message,stacktrace:this.stack,payload:this.payload}}}}]),a}(Object(M.a)(Error)));Error,Error;function B(e,t,a){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(_.a.mark((function e(t,a,n){var r,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cors",e.prev=1,r=R()("".concat(t),Object.assign({},{headers:Object(p.a)({Accept:"application/json","Content-Type":"application/json"},n),mode:"cors"},a,(null===a||void 0===a?void 0:a.body)&&"GET"!==(null===a||void 0===a?void 0:a.method)?{body:JSON.stringify(a.body)}:{})),e.next=5,r;case 5:if(c=e.sent,s=null,!c.ok){e.next=13;break}return e.next=10,c.json();case 10:s=e.sent,e.next=14;break;case 13:throw new P("Json parsing error",{code:c.status,data:{url:t,method:null===a||void 0===a?void 0:a.method}});case 14:return console.log("response",s),console.group("API Request Debug ".concat(t)),console.info("Url ".concat(t)),console.info("Response",s),e.abrupt("return",s);case 21:if(e.prev=21,e.t0=e.catch(1),!(e.t0 instanceof P)){e.next=25;break}throw e.t0;case 25:throw new Y(e.t0.message,{code:500,stack:e.t0.stack});case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}var U=function(e){return{type:b,payload:e}},V=function(e){return{type:O,payload:e}},W=function(){var e=Object(r.useState)(""),t=Object(I.a)(e,2),a=t[0],c=t[1],s=Object(i.b)();return Object(n.jsx)(J.a,{onChange:function(e){c(e.target.value)},value:a,className:"search-input",name:"search-input",placeholder:"for search please enter ...",onKeyPress:function(e){var t;13===e.charCode&&a.length&&(s((t=a,function(){var e=Object(A.a)(_.a.mark((function e(a){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(U(!0)),e.next=4,B("https://api.github.com/search/repositories?q={".concat(t,"}"));case 4:(n=e.sent).total_count?a({type:h,payload:n.items}):(a({type:h,payload:n.items}),a(V("nothing found for your request :crying_cat_face:"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(V(e.t0));case 11:return e.prev=11,a(U(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())),s(function(e){var t,a=null===(t=localStorage)||void 0===t?void 0:t.getItem("searchHistoryList"),n=a?JSON.parse(a):[],r=Object(L.a)(new Set(n.concat(e)));if(r.length>5){var c=r.slice(1,r.length);localStorage.setItem("searchHistoryList",JSON.stringify(c))}else localStorage.setItem("searchHistoryList",JSON.stringify(r));return{type:j,payload:r}}(a)))}})},z=function(e){var t=e.description,a=e.name,r=e.id,c=e.language;return Object(n.jsxs)("div",{className:"search-item",children:[Object(n.jsx)("b",{children:a}),Object(n.jsxs)("div",{children:["Language: ",Object(n.jsx)("b",{children:c})]}),Object(n.jsxs)("div",{children:["Description: ",Object(n.jsx)("b",{children:t})]})]},r)},F=(a(151),function(){return Object(n.jsxs)("div",{className:"loader-wrapper",children:[Object(n.jsx)("div",{className:"lds-dual-ring"}),";"]})}),Q=function(){var e=Object(i.c)(N),t=Object(i.c)(S),a=Object(i.c)(w);return Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(W,{}),Object(n.jsx)(E,{})]}),t?Object(n.jsx)(F,{}):null,Object(n.jsxs)("div",{className:"search-list",children:[a?Object(n.jsx)("div",{className:"message-info",children:a}):null,e.length?e.map((function(e){var t=e.id,a=e.description,r=e.full_name,c=e.language;return Object(n.jsx)(z,{id:t,name:r,language:c,description:a},t)})):null]})]})};a(152);var X=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(k,{}),Object(n.jsx)("div",{className:"container-content",children:Object(n.jsx)(y.c,{children:Object(n.jsx)(y.a,{exact:!0,path:"/",isAc:!0,component:Q})})})]})})};a(153);Object(s.render)(Object(n.jsxs)(c.a.StrictMode,{children:[Object(n.jsx)(i.a,{store:f,children:Object(n.jsx)(X,{})}),","]}),document.getElementById("root"))},33:function(e,t,a){},79:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.5b065a53.chunk.js.map