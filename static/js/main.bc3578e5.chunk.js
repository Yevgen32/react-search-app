(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(33),i=n(15),o=n(14),l=n(58),u=n(59),d=n(60),h="GET_REPOSITORIES",j="SET_SEARCH_HISTORY",p=n(17),b="LOADING",O="SET_MESSAGE",v=Object(o.combineReducers)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.payload});case O:return Object(p.a)(Object(p.a)({},e),{},{message:t.payload});default:return e}},repositories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;default:return e}},searchHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload;default:return e}}}),m=Object(d.createLogger)(),f=Object(o.createStore)(v,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(l.a,m))),g=n(62),x=n(5),y=n.p+"static/media/logo.7ddb38a3.png",k=(n(78),function(){return Object(a.jsxs)("div",{className:"menu",children:[Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("a",{href:"https://requestum.com/",children:Object(a.jsx)("img",{src:y,alt:"requestum"})})}),Object(a.jsxs)("div",{className:"other-links",children:[Object(a.jsx)("a",{className:"menu-link",href:"https://github.com/Yevgen32/react-search-app",children:"github"}),Object(a.jsx)("span",{className:"menu-link",children:"users"}),Object(a.jsx)("span",{className:"menu-link",children:"search"}),Object(a.jsx)("span",{className:"menu-link",children:"app"})]})]})}),N=function(e){return e.repositories},S=function(e){return e.ui.isLoading},w=function(e){return e.ui.message},E=(n(79),function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem("searchHistoryList"),n=t?JSON.parse(t):[];return Object(a.jsxs)("div",{className:"search-history-wrapper",children:[Object(a.jsx)("p",{children:"Search history:"}),Object(a.jsx)("div",{className:"search-history-list",children:(null===n||void 0===n?void 0:n.length)?n.map((function(e,t){return Object(a.jsx)("div",{className:"search-history-item",children:e},e+t)})):"Don`t have search result..."})]})}),I=n(63),J=n(165),L=n(64),T=n(16),H=n.n(T),R=n(25),A=n(61),_=n.n(A),q=n(27),D=n(28),C=n(29),G=n(30),M=n(31),P=function(e){Object(C.a)(n,e);var t=Object(G.a)(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(q.a)(this,n),(a=t.call(this,e)).payload=void 0,a.name="ValidationError",a.message=e,a.payload=c,c.stack&&(a.stack=c.stack),a}return Object(D.a)(n,[{key:"toJSON",value:function(){return{error:{name:this.name,message:this.message,stacktrace:this.stack,payload:this.payload}}}}]),n}(Object(M.a)(Error)),Y=function(e){Object(C.a)(n,e);var t=Object(G.a)(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(q.a)(this,n),(a=t.call(this,e)).payload=void 0,a.name="ApiError",a.message=e,a.payload=c,c.stack&&(a.stack=c.stack),a}return Object(D.a)(n,[{key:"toJSON",value:function(){return{error:{name:this.name,message:this.message,stacktrace:this.stack,payload:this.payload}}}}]),n}(Object(M.a)(Error));Error,Error;function B(e,t,n){return K.apply(this,arguments)}function K(){return(K=Object(R.a)(H.a.mark((function e(t,n,a){var c,r,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cors",e.prev=1,c=_()("".concat(t),Object.assign({},{headers:Object(p.a)({Accept:"application/json","Content-Type":"application/json"},a),mode:"cors"},n,(null===n||void 0===n?void 0:n.body)&&"GET"!==(null===n||void 0===n?void 0:n.method)?{body:JSON.stringify(n.body)}:{})),e.next=5,c;case 5:if(r=e.sent,s=null,!r.ok){e.next=13;break}return e.next=10,r.json();case 10:s=e.sent,e.next=14;break;case 13:throw new P("Json parsing error",{code:r.status,data:{url:t,method:null===n||void 0===n?void 0:n.method}});case 14:return console.log("response",s),console.group("API Request Debug ".concat(t)),console.info("Url ".concat(t)),console.info("Response",s),e.abrupt("return",s);case 21:if(e.prev=21,e.t0=e.catch(1),!(e.t0 instanceof P)){e.next=25;break}throw e.t0;case 25:throw new Y(e.t0.message,{code:500,stack:e.t0.stack});case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}var U=function(e){return{type:b,payload:e}},V=function(e){return{type:O,payload:e}},W=(n(81),function(){var e=Object(c.useState)(""),t=Object(I.a)(e,2),n=t[0],r=t[1],s=Object(i.b)();return Object(a.jsx)(J.a,{onChange:function(e){r(e.target.value)},value:n,className:"search-input",name:"search-input",placeholder:"for search please enter ...",onKeyPress:function(e){var t;13===e.charCode&&n.length&&(s((t=n,function(){var e=Object(R.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(U(!0)),n(V("")),e.next=5,B("https://api.github.com/search/repositories?q={".concat(t,"}"));case 5:(a=e.sent).total_count?n({type:h,payload:a.items}):(n({type:h,payload:a.items}),n(V("nothing found for your request \ud83d\ude1e\ud83d\ude1e\ud83d\ude1e"))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(V(e.t0));case 12:return e.prev=12,n(U(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())),s(function(e){var t,n=null===(t=localStorage)||void 0===t?void 0:t.getItem("searchHistoryList"),a=n?JSON.parse(n):[],c=Object(L.a)(new Set(a.concat(e)));if(c.length>5){var r=c.slice(1,c.length);localStorage.setItem("searchHistoryList",JSON.stringify(r))}else localStorage.setItem("searchHistoryList",JSON.stringify(c));return{type:j,payload:c}}(n)))}})}),z=(n(149),function(e){var t=e.description,n=e.name,c=e.id,r=e.language;return Object(a.jsxs)("div",{className:"search-item",children:[Object(a.jsx)("b",{children:n}),Object(a.jsxs)("div",{children:["Language: ",Object(a.jsx)("b",{children:r})]}),Object(a.jsxs)("div",{children:["Description: ",Object(a.jsx)("b",{children:t})]})]},c)}),F=(n(150),function(){return Object(a.jsxs)("div",{className:"loader-wrapper",children:[Object(a.jsx)("div",{className:"lds-dual-ring"}),";"]})});n(151);var Q=function(e){var t=e.message;return t?Object(a.jsx)("div",{className:"message-info",children:t}):null},X=(n(152),function(){var e=Object(i.c)(N),t=Object(i.c)(S),n=Object(i.c)(w);return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(W,{}),Object(a.jsx)(E,{})]}),t?Object(a.jsx)(F,{}):null,Object(a.jsxs)("div",{className:"search-list",children:[n?Object(a.jsx)(Q,{message:n}):null,e.length?e.map((function(e){var t=e.id,n=e.description,c=e.full_name,r=e.language;return Object(a.jsx)(z,{id:t,name:c,language:r,description:n},t)})):null]})]})});n(153);var Z=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(k,{}),Object(a.jsx)("div",{className:"container-content",children:Object(a.jsx)(x.c,{children:Object(a.jsx)(x.a,{exact:!0,path:"/react-search-app",component:X})})})]})})};n(157);Object(s.render)(Object(a.jsxs)(r.a.StrictMode,{children:[Object(a.jsx)(i.a,{store:f,children:Object(a.jsx)(Z,{})}),","]}),document.getElementById("root"))},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){}},[[158,1,2]]]);
//# sourceMappingURL=main.bc3578e5.chunk.js.map